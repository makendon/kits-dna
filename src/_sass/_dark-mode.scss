/* Dark mode SCSS from _base and _layout */

/* Remove or comment out all @media (prefers-color-scheme: dark) queries */
/* Replace with a single system dark mode check that can be overridden */

@use 'variables' as vars;
@use 'mixins';

html[data-theme="system"] {
  @media (prefers-color-scheme: dark) {
    /* Your dark mode styles here */
    body {
      color: vars.$text-color-dark;
      background-color: vars.$background-color-dark;
    }
    h1, h2, h3, h4, h5, h6 {
      color: vars.$text-color-dark;
    }
    p {
      color: vars.$text-color-dark;
    }
    a {
      color: vars.$link-color-dark;
      text-decoration: none;
    
      &:visited {
        color: vars.$link-color-dark-visited;
      }
    
      &:hover {
        color: vars.$link-color-dark;
        text-decoration-line: underline;
        text-decoration-style: solid;
        text-decoration-thickness: 1px;
      }
    
      .social-media-list &:hover {
        text-decoration: none;
    
        .username {
          text-decoration: underline;
        }
      }
    }
    blockquote {
      background-color: vars.$grey-color-dark;
      color: vars.$grey-color-light;
    }
    code {    
      background-color: vars.$grey-color-dark;
      color: vars.$text-color-dark;
      border: 1px solid vars.$grey-color-dark;
    }
    .highlight {
        background: vars.$grey-color-dark;
        border-color: vars.$grey-color-dark;
        
        .highlighter-rouge & {
          background: vars.$grey-color-dark;
          border-color: vars.$grey-color-dark;
        }
    }
    table {
      color: vars.$table-text-color;
      border: 1px solid vars.$grey-color-dark;
      tr {
        &:nth-child(even) {
          background-color: vars.$grey-color-dark;
        }
      }
      th {
        background-color: vars.$table-th-background-color;
        border: 1px solid vars.$table-th-border-color;
        border-bottom-color: vars.$table-th-border-bottom-color;
      }
      td {
        border: 1px solid vars.$grey-color-dark;;
      }
    }
    .site-header {
      background-color: vars.$head-foot-color-dark;
      color: vars.$head-foot-text-color-dark;
    }
    .site-title {
      a {
        color: vars.$head-foot-text-color-dark;

        &:hover {
          text-decoration: none;
        }
      
        &:visited {
        color: vars.$head-foot-text-color-dark;
        }
      }
    }
    .nav-list {
      a {
      color: vars.$head-foot-text-color-dark;
      
      &:hover,
      &:visited {
        color: vars.$head-foot-text-color-dark;
        }
      }
    }
    .nav-toggle-label {
      span {
        background: vars.$head-foot-text-color-dark;
      }
    }
    .main-nav {
      background-color: vars.$head-foot-color-dark;
      color: vars.$head-foot-text-color-dark;
    }
    .btn {
      border: 3px solid #fcfcfc;
      background-color: yellow;
      border-color: yellow;
    }
    .btn a {
      color: #004225;
      text-decoration: none;
    }
    .btn:hover { 
      color: #004225;
      text-decoration: underline;
      background-color: #fcfcfc; 
      border-color: #fcfcfc;
    }
    .homepage {
      color: vars.$text-color-dark;
      background-color: vars.$background-color-dark;
    }
    #homeImage {
      content: url('/assets/images/productdoodles4.webp');
      padding-bottom: 1em;
    }
    footer {
      background-color: vars.$head-foot-color-dark;
      color: vars.$head-foot-text-color-dark;
    }
    .footer-heading {
      color: vars.$head-foot-text-color-dark;
    }
    .footer-column {
      p, a {
      color: vars.$head-foot-text-color-dark;
      }
    }
    .post-meta {
      color: vars.$text-color-dark;
    }
    #search input {
      border: 1px solid #fcfcfc;
    }
    #search button {
      background-color: yellow;
      color: vars.$text-color;
    }
    #search button:hover {
      background-color: yellow;
    }
    .icon-link .fa-search {
      color: vars.$text-color-dark;
    }
    .dark-mode-toggle {
      color: yellow;
      
      .light-icon {
        display: inline-block;  // Show sun in dark mode
      }
      
      .dark-icon {
        display: none;  // Hide moon in dark mode
      }
    }
  }
}

/* Manual dark mode - higher specificity to override system preference */
html[data-theme="dark"] body,
body.dark-mode {
  color: vars.$text-color-dark;
  background-color: vars.$background-color-dark;
  h1, h2, h3, h4, h5, h6 {
    color: vars.$text-color-dark;
  }
  p {
    color: vars.$text-color-dark;
  }
  a {
    color: vars.$link-color-dark;
    text-decoration: none;
  
    &:visited {
      color: vars.$link-color-dark-visited;
    }
  
    &:hover {
      text-decoration-line: underline;
      text-decoration-style: solid;
      text-decoration-thickness: 1px;
    }
  
    .social-media-list &:hover {
      text-decoration: none;
  
      .username {
        text-decoration: underline;
      }
    }
  }
  blockquote {
    background-color: vars.$grey-color-dark;
    color: vars.$grey-color-v-light;
  }
  code {    
    background-color: vars.$grey-color-dark;
    color: vars.$text-color-dark;
    border: 1px solid vars.$grey-color-dark;
  }
  .highlight {
    background: vars.$grey-color-dark;
    border-color: vars.$grey-color-dark;
    
    .highlighter-rouge & {
      background: vars.$grey-color-dark;
      border-color: vars.$grey-color-dark;
    }
  }
  table {
    color: vars.$table-text-color;
    border: 1px solid vars.$grey-color-dark;
    tr {
      &:nth-child(even) {
        background-color: vars.$grey-color-dark;
      }
    }
    th {
      background-color: vars.$table-th-background-color;
      border: 1px solid vars.$table-th-border-color;
      border-bottom-color: vars.$table-th-border-bottom-color;
    }
    td {
      border: 1px solid vars.$grey-color-dark;;
    }
  }
  .site-header {
    background-color: vars.$head-foot-color-dark;
    color: vars.$head-foot-text-color-dark;
  }
  .site-title {
    a {
      color: vars.$head-foot-text-color-dark;

      &:hover {
        text-decoration: none;
      }
    
      &:visited {
      color: vars.$head-foot-text-color-dark;
      }
    }
  }
  .nav-list {
    a {
    color: vars.$head-foot-text-color-dark;
    
    &:hover,
    &:visited {
      color: vars.$head-foot-text-color-dark;
      }
    }
  }
  .nav-toggle-label {
    span {
      background: vars.$head-foot-text-color-dark;
    }
  }
  .main-nav {
    background-color: vars.$head-foot-color-dark;
    color: vars.$head-foot-text-color-dark;
  }
  .btn {
    border: 3px solid #fcfcfc;
    background-color: yellow;
    border-color: yellow;
  }
  .btn a {
    color: #004225;
    text-decoration: none;
  }
  .btn:hover { 
    color: #004225;
    text-decoration: underline;
    background-color: #fcfcfc; 
    border-color: #fcfcfc;
  }
  .homepage {
    color: vars.$text-color-dark;
    background-color: vars.$background-color-dark;
  }
  #homeImage {
    content: url('/assets/images/productdoodles4.webp');
    padding-bottom: 1em;
  }
  footer {
    background-color: vars.$head-foot-color-dark;
    color: vars.$head-foot-text-color-dark;
  }
  .footer-heading {
    color: vars.$head-foot-text-color-dark;
  }
  .footer-column {
    p, a {
    color: vars.$head-foot-text-color-dark;
    }
  }
  .post-meta {
    color: vars.$text-color-dark;
  }
  #search input {
    border: 1px solid vars.$text-color-dark;
  }
  #search button {
    background-color: yellow;
    color: vars.$text-color;
  }
  #search button:hover {
    background-color: yellow;
  }
  .icon-link .fa-search {
    color: vars.$text-color-dark;
  }
  .dark-mode-toggle {
    color: yellow;

    &:hover {
      color: yellow;
    }
    
    .light-icon {
      display: inline-block;  // Show sun in dark mode
    }
    
    .dark-icon {
      display: none;  // Hide moon in dark mode
    }
  }
}
